"use strict";(self.webpackChunkjvtc_yue_zone=self.webpackChunkjvtc_yue_zone||[]).push([[2411],{3905:(e,t,n)=>{n.d(t,{Zo:()=>s,kt:()=>y});var o=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=o.createContext({}),c=function(e){var t=o.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},s=function(e){var t=c(e.components);return o.createElement(p.Provider,{value:t},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},m=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,p=e.parentName,s=a(e,["components","mdxType","originalType","parentName"]),d=c(n),m=r,y=d["".concat(p,".").concat(m)]||d[m]||u[m]||i;return n?o.createElement(y,l(l({ref:t},s),{},{components:n})):o.createElement(y,l({ref:t},s))}));function y(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,l=new Array(i);l[0]=m;var a={};for(var p in t)hasOwnProperty.call(t,p)&&(a[p]=t[p]);a.originalType=e,a[d]="string"==typeof e?e:r,l[1]=a;for(var c=2;c<i;c++)l[c]=n[c];return o.createElement.apply(null,l)}return o.createElement.apply(null,n)}m.displayName="MDXCreateElement"},6912:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>l,default:()=>u,frontMatter:()=>i,metadata:()=>a,toc:()=>c});var o=n(7462),r=(n(7294),n(3905));const i={},l="Yolov5",a={unversionedId:"\u5f00\u53d1/\u8bed\u8a00/Python/Yolov5",id:"\u5f00\u53d1/\u8bed\u8a00/Python/Yolov5",title:"Yolov5",description:"YOLOv5\ud83d\ude80\u662f\u4e00\u4e2a\u5728COCO\u6570\u636e\u96c6\u4e0a\u9884\u8bad\u7ec3\u7684\u7269\u4f53\u68c0\u6d4b\u67b6\u6784\u548c\u6a21\u578b\u7cfb\u5217\uff0c\u5b83\u4ee3\u8868\u4e86Ultralytics\u5bf9\u672a\u6765\u89c6\u89c9AI\u65b9\u6cd5\u7684\u516c\u5f00\u7814\u7a76\uff0c",source:"@site/docs/01-\u5f00\u53d1/00-\u8bed\u8a00/Python/Yolov5.md",sourceDirName:"01-\u5f00\u53d1/00-\u8bed\u8a00/Python",slug:"/\u5f00\u53d1/\u8bed\u8a00/Python/Yolov5",permalink:"/docs/\u5f00\u53d1/\u8bed\u8a00/Python/Yolov5",draft:!1,editUrl:"https://github.com/Yue-plus/JVTC.Yue.Zone/tree/main/docs/01-\u5f00\u53d1/00-\u8bed\u8a00/Python/Yolov5.md",tags:[],version:"current",frontMatter:{},sidebar:"\u5f00\u53d1",previous:{title:"PyTorch",permalink:"/docs/\u5f00\u53d1/\u8bed\u8a00/Python/PyTorch"},next:{title:"pandas",permalink:"/docs/\u5f00\u53d1/\u8bed\u8a00/Python/pandas"}},p={},c=[{value:"\u672c\u5730\u90e8\u7f72",id:"\u672c\u5730\u90e8\u7f72",level:2},{value:"\u8fd0\u884c\u68c0\u6d4b",id:"\u8fd0\u884c\u68c0\u6d4b",level:2},{value:"\u4f7f\u7528 GPU \u8bad\u7ec3\u81ea\u5df1\u7684\u6570\u636e\u96c6",id:"\u4f7f\u7528-gpu-\u8bad\u7ec3\u81ea\u5df1\u7684\u6570\u636e\u96c6",level:2},{value:"Error #15: Initializing libiomp5md.dll, but found libiomp5md.dll already initialized.",id:"error-15-initializing-libiomp5mddll-but-found-libiomp5mddll-already-initialized",level:3}],s={toc:c},d="wrapper";function u(e){let{components:t,...n}=e;return(0,r.kt)(d,(0,o.Z)({},s,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"yolov5"},"Yolov5"),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"YOLOv5\ud83d\ude80\u662f\u4e00\u4e2a\u5728COCO\u6570\u636e\u96c6\u4e0a\u9884\u8bad\u7ec3\u7684\u7269\u4f53\u68c0\u6d4b\u67b6\u6784\u548c\u6a21\u578b\u7cfb\u5217\uff0c\u5b83\u4ee3\u8868\u4e86Ultralytics\u5bf9\u672a\u6765\u89c6\u89c9AI\u65b9\u6cd5\u7684\u516c\u5f00\u7814\u7a76\uff0c\n\u5176\u4e2d\u5305\u542b\u4e86\u5728\u6570\u5343\u5c0f\u65f6\u7684\u7814\u7a76\u548c\u5f00\u53d1\u4e2d\u6240\u83b7\u5f97\u7684\u7ecf\u9a8c\u548c\u6700\u4f73\u5b9e\u8df5\u3002"),(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("a",{parentName:"p",href:"https://github.com/ultralytics/yolov5/blob/master/README.zh-CN.md"},"GitHub"))),(0,r.kt)("h2",{id:"\u672c\u5730\u90e8\u7f72"},"\u672c\u5730\u90e8\u7f72"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"git clone https://github.com/ultralytics/yolov5.git\ncd yolov5\nconda create --name yolov5 python=3.11\nconda activate yolov5\npip install -i https://pypi.tuna.tsinghua.edu.cn/simple -r ./requirements.txt\n")),(0,r.kt)("h2",{id:"\u8fd0\u884c\u68c0\u6d4b"},"\u8fd0\u884c\u68c0\u6d4b"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},"Run YOLOv5 detection inference on images, videos, directories, globs, YouTube, webcam, streams, etc.\n\nUsage - sources:\n    $ python detect.py --weights yolov5s.pt --source 0                               # webcam\n                                                     img.jpg                         # image\n                                                     vid.mp4                         # video\n                                                     screen                          # screenshot\n                                                     path/                           # directory\n                                                     list.txt                        # list of images\n                                                     list.streams                    # list of streams\n                                                     'path/*.jpg'                    # glob\n                                                     'https://youtu.be/Zgi9g1ksQHc'  # YouTube\n                                                     'rtsp://example.com/media.mp4'  # RTSP, RTMP, HTTP stream\n\nUsage - formats:\n    $ python detect.py --weights yolov5s.pt                 # PyTorch\n                                 yolov5s.torchscript        # TorchScript\n                                 yolov5s.onnx               # ONNX Runtime or OpenCV DNN with --dnn\n                                 yolov5s_openvino_model     # OpenVINO\n                                 yolov5s.engine             # TensorRT\n                                 yolov5s.mlmodel            # CoreML (macOS-only)\n                                 yolov5s_saved_model        # TensorFlow SavedModel\n                                 yolov5s.pb                 # TensorFlow GraphDef\n                                 yolov5s.tflite             # TensorFlow Lite\n                                 yolov5s_edgetpu.tflite     # TensorFlow Edge TPU\n                                 yolov5s_paddle_model       # PaddlePaddle\n\n")),(0,r.kt)("h2",{id:"\u4f7f\u7528-gpu-\u8bad\u7ec3\u81ea\u5df1\u7684\u6570\u636e\u96c6"},"\u4f7f\u7528 GPU \u8bad\u7ec3\u81ea\u5df1\u7684\u6570\u636e\u96c6"),(0,r.kt)("p",null,"\u9996\u5148\u786e\u4fdd\u81ea\u5df1\u6709\u4e00\u5757\u652f\u6301 CUDA \u7684 GPU\u3002\n",(0,r.kt)("a",{parentName:"p",href:"https://developer.nvidia.com/cuda-gpus"},"\u67e5\u770b\u81ea\u5df1\u7684 GPU \u662f\u5426\u652f\u6301 CUDA"),"\u3002"),(0,r.kt)("p",null,"\u4e0b\u8f7d\u5b89\u88c5 ",(0,r.kt)("a",{parentName:"p",href:"https://developer.nvidia.com/cuda-downloads"},"CUDA toolkit"),"\u3002\n\u5b89\u88c5\u5b8c\u6210\u540e\u53ef\u80fd\u9700\u8981\u914d\u7f6e\u73af\u5883\u53d8\u91cf\uff08\u770b\u770b\u81ea\u5df1\u7684\u5b89\u88c5\u4f4d\u7f6e\uff09\uff1a",(0,r.kt)("inlineCode",{parentName:"p"},"C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v12.1\\bin"),"\u3002"),(0,r.kt)("p",null,"\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"nvcc -V")," \u67e5\u770b CUDA \u7248\u672c\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text",metastring:"{1}","{1}":!0},"$ nvcc.exe -V\nnvcc: NVIDIA (R) Cuda compiler driver\nCopyright (c) 2005-2023 NVIDIA Corporation\nBuilt on Mon_Apr__3_17:36:15_Pacific_Daylight_Time_2023\nCuda compilation tools, release 12.1, V12.1.105\nBuild cuda_12.1.r12.1/compiler.32688072_0\n")),(0,r.kt)("p",null,"\u67e5\u770b\u81ea\u5df1\u5b89\u88c5\u7684 torch\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ps",metastring:"{1}","{1}":!0},"(yolov5) PS D:\\yolo\\v5> conda list | findstr torch\ntorch                     2.0.1                    pypi_0    pypi\ntorchvision               0.15.2                   pypi_0    pypi\n")),(0,r.kt)("p",null,"\u6309\u7167 ",(0,r.kt)("a",{parentName:"p",href:"#%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2"},"\u672c\u5730\u90e8\u7f72")," \u5b89\u88c5\u7684\u662f\u4f7f\u7528 CPU \u8ba1\u7b97\u7684 torch\uff0c\u73b0\u5728\u9700\u8981\u5378\u8f7d\u5b83\uff0c\u5b89\u88c5\u4f7f\u7528 CUDA \u8ba1\u7b97\u7684 torch\uff1a"),(0,r.kt)("p",null,"\u53c2\u8003 ",(0,r.kt)("a",{parentName:"p",href:"https://pytorch.org/get-started/locally/"},"PyTorch \u5b98\u7f51")," \u4e0b\u8f7d\u5b89\u88c5 CUDA \u7248\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ps"},"# \u6587\u4ef6\u5f88\u5927\uff0c\u4f60\u5fcd\u4e00\u4e0b\uff081.36G\uff09\nconda install pytorch torchvision torchaudio pytorch-cuda=11.8 -c pytorch -c nvidia\n\n# \u4e0d\u77e5\u9053\u4e3a\u5565\u5c11\u4e2a\u5305\u2193\npip install chardet\n\n# \u8bad\u7ec3\u8fc7\u7a0b\u4e2d\u63d0\u793a\u9700\u8981\u7684\u5305\uff08\u4f46\u4e0d\u88c5\u4e5f\u80fd\u8dd1\uff09\u2193\n# pip install clearml comet_ml\n")),(0,r.kt)("h3",{id:"error-15-initializing-libiomp5mddll-but-found-libiomp5mddll-already-initialized"},"Error #15: Initializing libiomp5md.dll, but found libiomp5md.dll already initialized."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},"OMP: Error #15: Initializing libiomp5md.dll, but found libiomp5md.dll already initialized.\nOMP: Hint This means that multiple copies of the OpenMP runtime have been linked into the program. That is dangerous, since it can degrade performance or cause incorrect results. The best thing to do is to ensure that only a single OpenMP runtime is linked into the process, e.g. by avoiding static linking of the OpenMP runtime in any library. As an unsafe, unsupported, undocumented workaround you can set the environment variable KMP_DUPLICATE_LIB_OK=TRUE to allow the program to continue to execute, but that may cause crashes or silently produce incorrect results. For more information, please see http://www.intel.com/software/products/support/.\n")),(0,r.kt)("p",null,"\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\uff1a"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"KMP_DUPLICATE_LIB_OK")," : ",(0,r.kt)("inlineCode",{parentName:"p"},"TRUE")))}u.isMDXComponent=!0}}]);