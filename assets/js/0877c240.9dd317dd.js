"use strict";(self.webpackChunkjvtc_yue_zone=self.webpackChunkjvtc_yue_zone||[]).push([[6080],{10327:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>p,frontMatter:()=>a,metadata:()=>o,toc:()=>c});var i=t(85893),r=t(11151);const a={title:"JPA"},s="Spring Data JPA",o={id:"\u5f00\u53d1/\u6846\u67b6/Spring/Data/JPA/README",title:"JPA",description:"Spring Data JPA \u4e3a Jakarta Persistence API (JPA) \u63d0\u4f9b\u4e86\u5b58\u50a8\u5e93\u652f\u6301\u3002",source:"@site/docs/02-\u5f00\u53d1/03-\u6846\u67b6/Spring/03-Data/01-JPA/README.md",sourceDirName:"02-\u5f00\u53d1/03-\u6846\u67b6/Spring/03-Data/01-JPA",slug:"/\u5f00\u53d1/\u6846\u67b6/Spring/Data/JPA/",permalink:"/docs/\u5f00\u53d1/\u6846\u67b6/Spring/Data/JPA/",draft:!1,unlisted:!1,editUrl:"https://github.com/Yue-plus/JVTC.Yue.Zone/tree/main/docs/02-\u5f00\u53d1/03-\u6846\u67b6/Spring/03-Data/01-JPA/README.md",tags:[],version:"current",frontMatter:{title:"JPA"},sidebar:"\u5f00\u53d1",previous:{title:"Data",permalink:"/docs/\u5f00\u53d1/\u6846\u67b6/Spring/Data/"},next:{title:"Security",permalink:"/docs/\u5f00\u53d1/\u6846\u67b6/Spring/Security/"}},l={},c=[{value:"\u6559\u7a0b",id:"\u6559\u7a0b",level:2},{value:"\u914d\u7f6e\u6587\u4ef6",id:"\u914d\u7f6e\u6587\u4ef6",level:2},{value:"\u5b9e\u4f53\uff08Entity\uff09",id:"\u5b9e\u4f53entity",level:2},{value:"\u50a8\u5b58\u5e93\uff08Repository\uff09",id:"\u50a8\u5b58\u5e93repository",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"spring-data-jpa",children:"Spring Data JPA"}),"\n",(0,i.jsxs)(n.admonition,{type:"info",children:[(0,i.jsx)(n.p,{children:"Spring Data JPA \u4e3a Jakarta Persistence API (JPA) \u63d0\u4f9b\u4e86\u5b58\u50a8\u5e93\u652f\u6301\u3002\n\u5b83\u7b80\u5316\u4e86\u9700\u8981\u8bbf\u95ee JPA \u6570\u636e\u6e90\u7684\u5e94\u7528\u7a0b\u5e8f\u7684\u5f00\u53d1\u3002"}),(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/",children:"\u5b98\u65b9\u6587\u6863"}),"\n| ",(0,i.jsx)(n.a,{href:"https://springdoc.cn/spring-data-jpa/",children:"\u4e2d\u6587\u6587\u6863"}),"\n| ",(0,i.jsx)(n.a,{href:"https://hibernate.org/",children:"Hibernate"})]})]}),"\n",(0,i.jsx)(n.h2,{id:"\u6559\u7a0b",children:"\u6559\u7a0b"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://spring.io/guides/gs/accessing-data-rest/",children:"Accessing JPA Data with REST - Spring Guides"})}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"\u914d\u7f6e\u6587\u4ef6",children:"\u914d\u7f6e\u6587\u4ef6"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'title="src/main/resources/application.yaml"',children:"spring:\n  jpa:\n    database: postgresql\n    generate-ddl: true\n    hibernate.ddl-auto: validate\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u5b9e\u4f53entity",children:"\u5b9e\u4f53\uff08Entity\uff09"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://juejin.cn/post/7143048935739752484",children:"Spring Data JPA @Entity\u8be6\u89e3 - \u6398\u91d1"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-kotlin",metastring:'title="src/main/kotlin/zone/yue/core/user/UserLastLoginInfoEntity.kt"',children:'package zone.yue.core.user\n\nimport jakarta.persistence.Entity\nimport jakarta.persistence.Id\nimport jakarta.persistence.Table\nimport org.hibernate.proxy.HibernateProxy\nimport java.net.InetAddress\nimport java.time.LocalDateTime\nimport java.util.*\n\n@Entity\n@Table(name = "user_last_login_info")\ndata class UserLastLoginInfoEntity(\n    @Id val uuid: UUID,\n    private val lastLoginDateTime: LocalDateTime,\n    private val lastLoginIp: InetAddress,\n    private val lastLoginUserAgent: String,\n) {\n    constructor() : this(\n        UUID.fromString("00000000-0000-0000-0000-000000000000"),\n        LocalDateTime.MIN,\n        InetAddress.getLoopbackAddress(),\n        "",\n    )\n\n    override fun equals(other: Any?): Boolean {\n        if (this === other) return true\n        if (other == null) return false\n\n        val oEffectiveClass =\n            if (other is HibernateProxy) other.hibernateLazyInitializer.persistentClass else other.javaClass\n        if (javaClass != oEffectiveClass) return false\n\n        other as UserLastLoginInfoEntity\n\n        return uuid == other.uuid\n    }\n\n    override fun hashCode(): Int = javaClass.hashCode()\n\n    override fun toString(): String {\n        return this::class.simpleName +\n                "(uuid = $uuid , " +\n                "lastLoginDateTime = $lastLoginDateTime , " +\n                "lastLoginIp = $lastLoginIp , " +\n                "lastLoginUserAgent = $lastLoginUserAgent )"\n    }\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"\u50a8\u5b58\u5e93repository",children:"\u50a8\u5b58\u5e93\uff08Repository\uff09"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://springdoc.cn/spring-data-jpa/#repositories.core-concepts",children:"4.1. \u6838\u5fc3\u6982\u5ff5 - Spring Data JPA \u4e2d\u6587\u6587\u6863"})}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},11151:(e,n,t)=>{t.d(n,{Z:()=>o,a:()=>s});var i=t(67294);const r={},a=i.createContext(r);function s(e){const n=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);